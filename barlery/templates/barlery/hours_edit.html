{% extends "barlery/base.html" %}
{% load static %}

{% block head %}
<title>Edit Business Hours | Barlery</title>
<meta name="robots" content="noindex, nofollow">
{% endblock head %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/hours_edit.css' %}{% if STATIC_VERSION %}?v={{ STATIC_VERSION }}{% endif %}">
{% endblock extra_css %}

{% block body %}

<!-- Hero Section -->
<section class="hero-simple">
  <div class="container">
    <h1>Edit Business Hours</h1>
    <p class="hero-subtitle">Update operating hours for each day of the week</p>
  </div>
</section>

<!-- Hours Edit Form Section -->
<section class="section section-light">
  <div class="container">
    
    <div class="form-intro">
      <p>Set your regular business hours below.</p>
    </div>
    
    {% if form.errors %}
    <div class="form-errors hours-form-container">
      <strong>Please correct the errors below:</strong>
      <ul>
        {% for field, errors in form.errors.items %}
          {% for error in errors %}
            <li>{{ field|title }}: {{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    <form method="post" novalidate class="hours-form-container">
      {% csrf_token %}
        
        <!-- Monday -->
        <div class="day-hours">
          <h3>Monday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="monday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="monday">
            <div class="form-group">
              <label for="{{ form.monday_open.id_for_label }}">{{ form.monday_open.label }}</label>
              {{ form.monday_open }}
              {% if form.monday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.monday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.monday_close.id_for_label }}">{{ form.monday_close.label }}</label>
              {{ form.monday_close }}
              {% if form.monday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.monday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Tuesday -->
        <div class="day-hours">
          <h3>Tuesday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="tuesday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="tuesday">
            <div class="form-group">
              <label for="{{ form.tuesday_open.id_for_label }}">{{ form.tuesday_open.label }}</label>
              {{ form.tuesday_open }}
              {% if form.tuesday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.tuesday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.tuesday_close.id_for_label }}">{{ form.tuesday_close.label }}</label>
              {{ form.tuesday_close }}
              {% if form.tuesday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.tuesday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Wednesday -->
        <div class="day-hours">
          <h3>Wednesday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="wednesday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="wednesday">
            <div class="form-group">
              <label for="{{ form.wednesday_open.id_for_label }}">{{ form.wednesday_open.label }}</label>
              {{ form.wednesday_open }}
              {% if form.wednesday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.wednesday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.wednesday_close.id_for_label }}">{{ form.wednesday_close.label }}</label>
              {{ form.wednesday_close }}
              {% if form.wednesday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.wednesday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Thursday -->
        <div class="day-hours">
          <h3>Thursday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="thursday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="thursday">
            <div class="form-group">
              <label for="{{ form.thursday_open.id_for_label }}">{{ form.thursday_open.label }}</label>
              {{ form.thursday_open }}
              {% if form.thursday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.thursday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.thursday_close.id_for_label }}">{{ form.thursday_close.label }}</label>
              {{ form.thursday_close }}
              {% if form.thursday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.thursday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Friday -->
        <div class="day-hours">
          <h3>Friday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="friday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="friday">
            <div class="form-group">
              <label for="{{ form.friday_open.id_for_label }}">{{ form.friday_open.label }}</label>
              {{ form.friday_open }}
              {% if form.friday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.friday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.friday_close.id_for_label }}">{{ form.friday_close.label }}</label>
              {{ form.friday_close }}
              {% if form.friday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.friday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Saturday -->
        <div class="day-hours">
          <h3>Saturday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="saturday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="saturday">
            <div class="form-group">
              <label for="{{ form.saturday_open.id_for_label }}">{{ form.saturday_open.label }}</label>
              {{ form.saturday_open }}
              {% if form.saturday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.saturday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.saturday_close.id_for_label }}">{{ form.saturday_close.label }}</label>
              {{ form.saturday_close }}
              {% if form.saturday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.saturday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Sunday -->
        <div class="day-hours">
          <h3>Sunday</h3>
          <div class="closed-checkbox-container">
            <label class="closed-checkbox">
              <input type="checkbox" class="day-closed-toggle" data-day="sunday">
              <span>Closed all day</span>
            </label>
          </div>
          <div class="time-inputs" data-day-inputs="sunday">
            <div class="form-group">
              <label for="{{ form.sunday_open.id_for_label }}">{{ form.sunday_open.label }}</label>
              {{ form.sunday_open }}
              {% if form.sunday_open.errors %}
                <ul class="errorlist">
                  {% for error in form.sunday_open.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{ form.sunday_close.id_for_label }}">{{ form.sunday_close.label }}</label>
              {{ form.sunday_close }}
              {% if form.sunday_close.errors %}
                <ul class="errorlist">
                  {% for error in form.sunday_close.errors %}
                    <li>{{ error }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          </div>
        </div>
        
        <!-- Form Actions -->
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Hours
          </button>
          <a href="{% url 'barlery:index' %}" class="btn btn-secondary">
            <i class="fas fa-times"></i> Cancel
          </a>
        </div>
      </form>

  </div>
</section>

{% endblock body %}

{% block extra_scripts %}
<script src="{% static 'js/hours_edit.js' %}{% if STATIC_VERSION %}?v={{ STATIC_VERSION }}{% endif %}" defer></script>
{% endblock extra_scripts %}